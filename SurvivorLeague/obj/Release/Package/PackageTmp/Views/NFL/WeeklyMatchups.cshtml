@using SurvivorLeague.Models
@model WeeklyMatchupsViewModel

@{
    ViewBag.Title = "Week " + Model.Week;
    //Layout = "~/Views/Shared/_NFLLayout.cshtml";
}

<hr class="team-colors" />
<h2 class="text-center font-weight-bold">@Model.LeagueName - Week @Model.Week</h2>
<hr class="team-colors" />

<div style="text-align:center">
    <img src="~/Images/football-helmet.png" id="helmet" />
    <div class="mt-4" id="weekly-matchups">
        @{
            List<List<PlayerWeekMatchupViewModel>> MatchupsByDate = Model.Matchups.GroupBy(g => g.DateAndTime.Date).Select(m => m.ToList()).OrderBy(o => o.FirstOrDefault().DateAndTime).ToList();
            foreach (var matchupslist in MatchupsByDate)
            {
                <div class="row">

                    @{ var dtm = matchupslist.First().DateAndTime; }
                    <div class="col-12 col-xl-8">
                        <h5>
                            @string.Format("{0} {1}/{2}", dtm.DayOfWeek.ToString().Substring(0, 3).ToUpper(), dtm.Month, dtm.Day)
                        </h5>
                    </div>
                    <div class="col-12">
                        @foreach (var matchup in matchupslist)
                        {

                            <div class="row py-1 font-weight-bold">
                                <div class="col-3 col-xm-2 col-xl-1 align-self-center">@matchup.DateAndTime.ToShortTimeString()</div>
                                <div class="col-4 col-xl-3 align-self-center">
                                    <div id="@matchup.VisitorTeam.Id" onclick="SelectTeam(this);" class="row lead font-weight-bold select-team" style="border-style:solid; border-color:@matchup.VisitorTeam.Colors.Split('|')[1]; background:@matchup.VisitorTeam.Colors.Split('|')[0]; color:@matchup.VisitorTeam.Colors.Split('|')[1];">

                                        <div class="col-12 d-none d-sm-block">
                                            @matchup.VisitorTeam.Location
                                        </div>
                                        <div class="col-12">
                                            @matchup.VisitorTeam.Name
                                        </div>
                                    </div>
                                </div>
                                <div class="align-self-center">
                                    @@
                                </div>
                                <div class="col-4 col-xl-3 align-self-center">
                                    <div id="@matchup.HomeTeam.Id" onclick="SelectTeam(this);" class="row lead font-weight-bold select-team" style="border-style:solid; border-color:@matchup.HomeTeam.Colors.Split('|')[1]; background:@matchup.HomeTeam.Colors.Split('|')[0]; color:@matchup.HomeTeam.Colors.Split('|')[1];">
                                        <div class="col-12 d-none d-sm-block">
                                            @matchup.HomeTeam.Location
                                        </div>
                                        <div class="col-12">
                                            @matchup.HomeTeam.Name
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
                <hr />
            }
        }


    </div>
</div>